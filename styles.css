:root{
  --bg:#0b0f14;
  --panel:#121821;
  --muted:#94a3b8;
  --text:#e2e8f0;
  --primary:#4f46e5;
  --primary-600:#4338ca;
  --accent:#22c55e;
  --danger:#ef4444;
  --card-bg:#fff5f7;
  --card-border:#e2a5b2;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  color:var(--text);
  background:linear-gradient(180deg,#0a0e14 0%, #0b1220 100%);
}
.app-header{
  display:flex;justify-content:space-between;align-items:center;
  padding:12px 16px;border-bottom:1px solid #1f2937;background:rgba(2,6,23,.7);backdrop-filter:blur(6px);
  position:sticky;top:0;z-index:10;flex-wrap:wrap;gap:12px
}
.brand{display:flex;align-items:center;gap:10px;flex-shrink:0}
.brand h1{font-size:18px;margin:0}
.header-actions{display:flex;gap:12px;align-items:center;flex-wrap:wrap;justify-content:flex-end;flex:1}
.year-picker{display:flex;gap:6px;align-items:center;color:var(--muted)}
.year-picker input{width:86px}
.year-selector{display:flex;gap:12px;align-items:center}
.year-tabs{display:flex;gap:4px}
.year-tab{
  padding:6px 12px;
  border:1px solid #334155;
  background:transparent;
  color:var(--muted);
  border-radius:6px;
  cursor:pointer;
  font-size:0.875rem;
  font-weight:500;
  transition:all 0.2s;
}
.year-tab:hover{
  border-color:var(--primary);
  color:var(--text);
}
.year-tab.active{
  background:var(--primary);
  border-color:var(--primary);
  color:white;
}
.auth-box{display:flex;gap:8px;align-items:center;margin-right:8px}
.auth-box .user{color:var(--muted);font-size:12px}
.button, button{
  appearance:none;border:1px solid #334155;background:#0b1220;color:var(--text);
  padding:8px 14px;border-radius:8px;cursor:pointer;transition:.2s ease;border-color:#334155;
  font-size:14px;font-weight:500;white-space:nowrap
}
.badge{display:inline-block;min-width:18px;padding:0 6px;margin-left:6px;border-radius:999px;background:var(--danger);color:#fff;font-size:12px;line-height:18px;text-align:center}
button:hover{background:#1e293b;border-color:#475569}
button.primary{background:var(--primary);border-color:var(--primary-600);color:white}
button.primary:hover{background:var(--primary-600);filter:brightness(1.1)}
button.ghost,.button.ghost{background:transparent;border-color:transparent}
button.ghost:hover{background:rgba(255,255,255,.05);border-color:#475569}
button.danger{background:var(--danger);border-color:#b91c1c}
button.danger:hover{background:#dc2626}

.button-group{display:flex;gap:8px;align-items:center}
.button-group.secondary button,.button-group.secondary .button{font-size:13px;padding:6px 12px}

.tabs{display:flex;gap:6px;padding:10px 12px;border-bottom:1px solid #1f2937}
.tab{background:transparent;border:1px solid #334155;border-bottom:none;border-radius:8px 8px 0 0;padding:8px 12px;color:var(--muted)}
.tab.active{color:var(--text);background:#0b1220}

.year-tabs-nav{display:flex;gap:6px;padding:10px 12px;border-bottom:1px solid #1f2937;background:#0a0e14}
.year-tab-nav{background:transparent;border:1px solid #334155;border-bottom:none;border-radius:8px 8px 0 0;padding:8px 16px;color:var(--muted);font-weight:600;cursor:pointer;transition:all 0.2s}
.year-tab-nav:hover{border-color:var(--primary);color:var(--text)}
.year-tab-nav.active{background:var(--primary);color:white;border-color:var(--primary)}

.employee-tabs-nav{display:flex;gap:6px;padding:10px 12px;border-bottom:1px solid #1f2937;background:#0a0e14;overflow-x:auto}
.employee-tab-nav{background:transparent;border:1px solid #334155;border-bottom:none;border-radius:8px 8px 0 0;padding:8px 16px;color:var(--muted);font-weight:600;cursor:pointer;transition:all 0.2s;white-space:nowrap}
.employee-tab-nav:hover{border-color:var(--primary);color:var(--text)}
.employee-tab-nav.active{background:var(--primary);color:white;border-color:var(--primary)}

main{padding:16px;display:grid;gap:16px}
.panel{background:var(--panel);border:1px solid #1f2937;border-radius:12px;padding:16px}
.panel-head{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
.controls,.filters{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
.controls>input,.controls>select{flex:1;min-width:120px}
.controls>button{flex-shrink:0}
.search-box input, input, select, textarea{background:#0b1220;border:1px solid #334155;color:var(--text);padding:8px;border-radius:8px}
textarea{resize:vertical}
.cloud{display:flex;gap:6px;align-items:center}
.cloud input{width:140px}

.grid{display:grid;grid-template-columns:repeat(2, minmax(220px,1fr));gap:12px}
.grid-span-2{grid-column:1/-1}
.form-actions{display:flex;gap:8px;justify-content:flex-end;flex-wrap:wrap}
.form-actions.grid-span-2{grid-column:span 2}

.table-wrap{overflow:auto;border:1px solid #1f2937;border-radius:8px}
.table{width:100%;border-collapse:collapse;min-width:820px}
.table th,.table td{padding:10px;border-bottom:1px solid #1f2937;text-align:left}
.table th{color:#cbd5e1;font-weight:600;background:#0b1220;position:sticky;top:0}
.table tr:hover td{background:#0b1220}
.actions{display:flex;gap:6px}

.tab-content{display:none}
.tab-content.active{display:block}

.app-footer{padding:12px 16px;color:var(--muted);border-top:1px solid #1f2937}

/* Toasts */
#toastContainer{position:fixed;right:16px;bottom:16px;display:flex;flex-direction:column;gap:8px;z-index:9999;pointer-events:none}
.toast{min-width:240px;max-width:360px;background:#0b1220;border:1px solid #334155;color:var(--text);padding:10px 12px;border-radius:10px;box-shadow:0 6px 20px rgba(0,0,0,.35);opacity:0;transform:translateY(10px);transition:opacity .2s ease, transform .2s ease;pointer-events:auto}
.toast.show{opacity:1;transform:translateY(0)}
.toast.hide{opacity:0;transform:translateY(6px)}
.toast.success{border-color:#14532d;background:#0b2614;color:#86efac}
.toast.error{border-color:#7f1d1d;background:#2a0e0e;color:#fecaca}
.toast.info{border-color:#1e3a8a;background:#0a1a33;color:#bfdbfe}

/* Card styles (print-friendly) */
.card-container{background:var(--card-bg);color:#111;padding:20px;border-radius:12px;border:1px solid var(--card-border)}
.card{width:100%;background:#ffd6e0;border:2px solid #d88a99;border-radius:8px;padding:16px}
.card h3{margin:0 0 8px 0;text-align:center}
.card small{color:#374151}
.card .grid{grid-template-columns:repeat(4, 1fr);gap:12px}
.card .row{display:grid;grid-template-columns:repeat(12,1fr);gap:6px;margin-top:6px}
.card .label{grid-column:span 3;font-weight:600}
.card .value{grid-column:span 3}
.card .section-title{margin-top:14px;margin-bottom:6px;font-weight:700;border-bottom:2px solid #e9aabb}

.card table{width:100%;border-collapse:collapse;background:white;border:1px solid #e9aabb;margin-bottom:8px}
.card table th{background:#ffe6ec;font-weight:600;text-align:left}
.card table th,.card table td{border:1px solid #e9aabb;padding:8px;font-size:12px;text-align:left}
.card table td{vertical-align:top}

/* Column width alignment for better balance */
.card table thead tr th:nth-child(1){ width:15%; }
.card table thead tr th:nth-child(2){ width:12%; }
.card table thead tr th:nth-child(3){ width:12%; }
.card table thead tr th:nth-child(4){ width:12%; }
.card table thead tr th:nth-child(5){ width:12%; }
.card table thead tr th:nth-child(6){ width:37%; }

/* Calendar Styles */
#calendarContainer {
  overflow-x: auto;
}

.calendar {
  width: 100%;
  border-collapse: collapse;
  border: 1px solid #334155;
  background: #0f172a;
  font-size: 0.85rem;
  table-layout: fixed; /* ensure perfect column alignment */
}

.calendar thead {
  background: #1e293b;
  border-bottom: 2px solid #334155;
}

.calendar th {
  padding: 8px 4px;
  text-align: center;
  font-weight: 600;
  color: #94a3b8;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  width: 14.2857%;
}

.calendar td {
  padding: 0;
  border: 1px solid #334155;
  /* allow rows to grow to fit content */
  height: auto;
  vertical-align: top;
  background: #0b1220;
  position: relative;
  width: 14.2857%;
}

.calendar td.other-month {
  background: #050a10;
  opacity: 0.5;
}

.calendar td.today {
  background: #1e3a5f;
  border: 2px solid #4f46e5;
}

.cal-day-number {
  position: absolute;
  top: 6px;
  right: 8px;
  font-weight: 600;
  color: #94a3b8;
  font-size: 0.9rem;
}

.cal-day-number.other-month {
  color: #475569;
}

.cal-leaves {
  /* let the day cell grow vertically instead of showing an inner scrollbar */
  position: static;
  margin: 28px 6px 6px 6px; /* leave space for day number */
  overflow: visible;
}

.cal-holiday {
  padding: 3px 6px;
  margin: 2px 0;
  border-radius: 3px;
  font-size: 0.75rem;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  background: #2d5f2f;
  border-left: 3px solid #22c55e;
  color: #86efac;
  font-weight: 500;
}

.cal-leave-item {
  padding: 3px 6px;
  margin: 2px 0;
  border-radius: 3px;
  font-size: 0.75rem;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  border-left: 3px solid;
}

.cal-leave-item.ANNUAL {
  background: #1e3a5f;
  border-left-color: #3b82f6;
  color: #93c5fd;
}

.cal-leave-item.SICK {
  background: #3f2f1e;
  border-left-color: #f59e0b;
  color: #fbbf24;
}

.cal-leave-item.UNPAID {
  background: #2f3f2f;
  border-left-color: #6b7280;
  color: #d1d5db;
}

.cal-leave-item.EMERGENCY {
  background: #3f1f2f;
  border-left-color: #ef4444;
  color: #fca5a5;
}

.cal-leave-item.PENDING {
  opacity: 0.6;
}

.cal-leave-item.APPROVED {
  opacity: 1;
}

.cal-leave-item.REJECTED {
  opacity: 0.4;
  text-decoration: line-through;
}

.calendar td.holiday {
  background-color: rgba(34, 197, 94, 0.1);
}

/* Report form alignment (Leaves apply form) */
#reportLeaveForm{
  display:grid;
  grid-template-columns: repeat(4, minmax(180px, 1fr));
  gap:12px;
  align-items:end;
}
#reportLeaveForm .grid-span-2{ grid-column: 1 / -1; }
#reportLeaveForm label{ display:flex; align-items:center; gap:10px; }
#reportLeaveForm label > input,
#reportLeaveForm label > select,
#reportLeaveForm label > textarea{ flex:1; }

/* Make date picker icon visible on dark theme */
input[type="date"]{ color-scheme: dark; padding-right: 30px; }
/* Custom calendar icon for WebKit (Chrome/Edge/Safari) */
input[type="date"]::-webkit-calendar-picker-indicator{
  background: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='%23cbd5e1'><path d='M7 2a1 1 0 0 0-1 1v1H5a3 3 0 0 0-3 3v11a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3h-1V3a1 1 0 1 0-2 0v1H8V3a1 1 0 0 0-1-1zm12 7H5v9a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V9z'/></svg>") no-repeat center center;
  opacity: 1;
  cursor: pointer;
  color: transparent;
}
input[type="date"]::-ms-clear{ display:none; }

/* Make Reason field same height as other inputs */
#reportLeaveReason{ height: 36px; min-height: 36px; }

.print-only{display:none}
@media print{
  body{background:white}
  .app-header,.tabs,.app-footer,.controls,.panel-head,.header-actions{display:none !important}
  .panel{border:0;padding:0}
  .card-container{border:0;padding:0}
  .print-only{display:block}
}
